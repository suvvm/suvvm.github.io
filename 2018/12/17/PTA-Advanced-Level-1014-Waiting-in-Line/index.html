<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/ortrait.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ortrait.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ortrait.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.suvvm.work","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Suppose a bank has N windows open for service. There is a yellow line in front of the windows which devides the waiting area into two parts. The rules for the customers to wait in line are:  The spa">
<meta property="og:type" content="article">
<meta property="og:title" content="PTA (Advanced Level) 1014 Waiting in Line">
<meta property="og:url" content="https://www.suvvm.work/2018/12/17/PTA-Advanced-Level-1014-Waiting-in-Line/index.html">
<meta property="og:site_name" content="SUVVM">
<meta property="og:description" content="Suppose a bank has N windows open for service. There is a yellow line in front of the windows which devides the waiting area into two parts. The rules for the customers to wait in line are:  The spa">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217204731686-2120059976.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217204906854-2084365850.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205006622-109122127.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205048366-1862476535.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205127835-1367261046.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205356305-1536761116.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205504799-729189424.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205639679-1335197869.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205917604-2026796990.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210136247-1425635367.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210252125-877684797.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210404646-320711987.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210547699-456260582.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217211203699-1805800642.png">
<meta property="article:published_time" content="2018-12-17T13:47:51.000Z">
<meta property="article:modified_time" content="2020-12-19T14:05:00.651Z">
<meta property="article:author" content="SUVVM">
<meta property="article:tag" content="STL">
<meta property="article:tag" content="模拟">
<meta property="article:tag" content="PTA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217204731686-2120059976.png">

<link rel="canonical" href="https://www.suvvm.work/2018/12/17/PTA-Advanced-Level-1014-Waiting-in-Line/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>PTA (Advanced Level) 1014 Waiting in Line | SUVVM</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e5190116d64be66cac29daef18c94ac0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SUVVM</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">呜嗷SUVVM</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="calendar fa-fw"></i>日程表</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2018/12/17/PTA-Advanced-Level-1014-Waiting-in-Line/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          PTA (Advanced Level) 1014 Waiting in Line
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-12-17 21:47:51" itemprop="dateCreated datePublished" datetime="2018-12-17T21:47:51+08:00">2018-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/" itemprop="url" rel="index"><span itemprop="name">算法相关</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>　　Suppose a bank has N windows open for service. There is a yellow line in front of the windows which devides the waiting area into two parts. The rules for the customers to wait in line are:</p>
<ul>
<li>The space inside the yellow line in front of each window is enough to contain a line with Mcustomers. Hence when all the N lines are full, all the customers after (and including) the (st one will have to wait in a line behind the yellow line.</li>
<li>Each customer will choose the shortest line to wait in when crossing the yellow line. If there are two or more lines with the same length, the customer will always choose the window with the smallest number.</li>
<li>Customeri will take Ti minutes to have his/her transaction processed.</li>
<li>The first N customers are assumed to be served at 8:00am.</li>
</ul>
<p>　　Now given the processing time of each customer, you are supposed to tell the exact time at which a customer has his/her business done.</p>
<p>　　For example, suppose that a bank has 2 windows and each window may have 2 custmers waiting inside the yellow line. There are 5 customers waiting with transactions taking 1, 2, 6, 4 and 3 minutes, respectively. At 08:00 in the morning, customer1 is served at window1 while customer2 is served at window2. Customer3 will wait in front of window1 and customer4 will wait in front of window2. Customer5 will wait behind the yellow line.</p>
<p>　　At 08:01, customer1 is done and customer5 enters the line in front of window1 since that line seems shorter now. Customer2 will leave at 08:02, customer4 at 08:06, customer3 at 08:07, and finally customer5 at 08:10.</p>
<h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>　　Each input file contains one test case. Each case starts with a line containing 4 positive integers: N (≤, number of windows), M (≤, the maximum capacity of each line inside the yellow line), K (≤, number of customers), and Q (≤, number of customer queries).</p>
<p>　　The next line contains K positive integers, which are the processing time of the K customers.</p>
<p>　　The last line contains Q positive integers, which represent the customers who are asking about the time they can have their transactions done. The customers are numbered from 1 to K.</p>
<h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>　　For each of the Q customers, print in one line the time at which his/her transaction is finished, in the format <code>HH:MM</code> where <code>HH</code> is in [08, 17] and <code>MM</code> is in [00, 59]. Note that since the bank is closed everyday after 17:00, for those customers who cannot be served before 17:00, you must output <code>Sorry</code> instead.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 2 7 5</span><br><span class="line">1 2 6 4 3 534 2</span><br><span class="line">3 4 5 6 7</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">08:07</span><br><span class="line">08:06</span><br><span class="line">08:10</span><br><span class="line">17:00</span><br><span class="line">Sorry</span><br></pre></td></tr></table></figure>
<p>解题思路：<br>　　本题意思是银行有n个窗口，每个窗口前最多可以排m个人，现在有k个人，所有窗口从8点开始服务，到17点停止<strong>接受</strong>服务，不过如果17点前接受了服务，无论多晚也会服务完该客户。要求按查询输出客户完成服务的时间（愚蠢的顾客们只要选定一个排队的窗口就会一直排到关门，即使其他窗口空了也不换）。</p>
<p>　　本题每组测试数据首先给出4个整数，分别为窗口数量n、最大排队人数m、客户人数k、查询数量q，之后一行包括k个整数，代表服务每个客户所需要的时间（分钟），下一行包括q个整数，代表查询的客户。</p>
<p>　　首先分析一下样例<br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217204731686-2120059976.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217204906854-2084365850.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205006622-109122127.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205048366-1862476535.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205127835-1367261046.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205356305-1536761116.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205504799-729189424.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205639679-1335197869.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217205917604-2026796990.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210136247-1425635367.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210252125-877684797.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210404646-320711987.png" alt="img"><br><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217210547699-456260582.png" alt="img"></p>
<p><img src="https://img2018.cnblogs.com/blog/1447131/201812/1447131-20181217211203699-1805800642.png" alt="img"></p>
<p>我们可以吧每一个窗口看作一个先进先出的队列，队列的容量为m，一共有n个这样的队列。queue<int> win[maxw]　，win[ i ]便代表第i窗口的队列。由于客户总是会选择最短的队列，所以在所有队列被填满时不会有出队操作。每个队列在开始处理今天第一名客户时记录现在以及消耗的时间为0，在所有队列都被填满后就要执行出队操作了，我们需要找到哪个窗口的客户先处理完，对其所在的窗口进行出队，同时获得当前处理的客户的结束时间与下一名客户的开始时间，之后将下一名客户入队。</int></p>
<p>　　在所有客户都入队后需要对所有窗口进行出队操作，这样便可以获得所有客户的开始时间与结束时间。</p>
<p>找到排队最短的窗口</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMinSize</span><span class="params">(<span class="keyword">int</span> &amp;w)</span></span>&#123; <span class="comment">//获得当前排队长度最短的窗口</span></span><br><span class="line">    <span class="keyword">int</span> minSize = INT_MAX;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(win[i].size() &lt; minSize)&#123;</span><br><span class="line">            minSize = win[i].size();</span><br><span class="line">            w = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 找到最先处理完的客户所在的窗口并执行出队 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123; <span class="comment">//找到最先处理完的客户所在的窗口并执行出队</span></span><br><span class="line">    <span class="keyword">int</span> disWin; <span class="comment">//记录最先处理完的客户所在的窗口</span></span><br><span class="line">    <span class="keyword">int</span> disEdTime = INT_MAX;    <span class="comment">//记录记录最先处理完的客户的结束时间</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(disEdTime &gt; nowTime[i] + needTime[win[i].front()])&#123;</span><br><span class="line">            <span class="comment">//服务结束时间为当前窗口消耗时间假设处理该客户需要消耗的时间</span></span><br><span class="line">            disWin = i; <span class="comment">//记录窗口与结束时间</span></span><br><span class="line">            disEdTime = nowTime[i] + needTime[win[i].front()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    edTime[win[disWin].front()] = disEdTime;    <span class="comment">//记录客户结束时间</span></span><br><span class="line">    win[disWin].pop();  <span class="comment">//出队</span></span><br><span class="line">    nowTime[disWin] = disEdTime;    <span class="comment">//记录该窗口现在已经消耗的时间</span></span><br><span class="line">    <span class="keyword">if</span>(!win[disWin].empty())</span><br><span class="line">        bgTime[win[disWin].front()] = disEdTime;</span><br><span class="line">        <span class="comment">//下一名客户的开始时间就是上一名客户的结束时间</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 某窗口全部出队 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disposeAll</span><span class="params">(<span class="keyword">int</span> w)</span></span>&#123; <span class="comment">//处理某窗口全部出队</span></span><br><span class="line">    <span class="keyword">while</span>(!win[w].empty())&#123;</span><br><span class="line">        edTime[win[w].front()] = nowTime[w] + needTime[win[w].front()];</span><br><span class="line">        <span class="comment">//获得用户结束时间</span></span><br><span class="line">        nowTime[w] = edTime[win[w].front()];</span><br><span class="line">        <span class="comment">//记录当前窗口消耗时间</span></span><br><span class="line">        win[w].pop();</span><br><span class="line">        <span class="keyword">if</span>(!win[w].empty())<span class="comment">//记录下一个用户的开始时间</span></span><br><span class="line">            bgTime[win[w].front()] = nowTime[w];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>之后读入查询，判断所查询的客户的开始时间是否在17：00前，如果在17：00前输出其结束时间，否则输出Sorry。</p>
<p>AC代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxw = <span class="number">25</span>;    <span class="comment">//最大窗口数</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxk = <span class="number">1e3</span>+<span class="number">10</span>;    <span class="comment">//最大客户数</span></span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; win[maxw];   <span class="comment">//窗口队列</span></span><br><span class="line"><span class="keyword">int</span> nowTime[maxw];  <span class="comment">//记录每个窗口当前服务客户已经消耗的时间</span></span><br><span class="line"><span class="keyword">int</span> needTime[maxk]; <span class="comment">//记录服务每个客户需要消耗的时间</span></span><br><span class="line"><span class="keyword">int</span> bgTime[maxk];   <span class="comment">//记录每个客户开始被服务的时间</span></span><br><span class="line"><span class="keyword">int</span> edTime[maxk];   <span class="comment">//记录每个客户服务结束的时间</span></span><br><span class="line"><span class="keyword">int</span> n, m, k, q; <span class="comment">//n窗口数，m队列长度，k客户数，q查询数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMinSize</span><span class="params">(<span class="keyword">int</span> &amp;w)</span></span>&#123; <span class="comment">//获得当前排队长度最短的窗口</span></span><br><span class="line">    <span class="keyword">int</span> minSize = INT_MAX;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(win[i].size() &lt; minSize)&#123;</span><br><span class="line">            minSize = win[i].size();</span><br><span class="line">            w = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minSize;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123; <span class="comment">//找到最先处理完的客户所在的窗口并执行出队</span></span><br><span class="line">    <span class="keyword">int</span> disWin; <span class="comment">//记录最先处理完的客户所在的窗口</span></span><br><span class="line">    <span class="keyword">int</span> disEdTime = INT_MAX;    <span class="comment">//记录记录最先处理完的客户的结束时间</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(disEdTime &gt; nowTime[i] + needTime[win[i].front()])&#123;</span><br><span class="line">            <span class="comment">//服务结束时间为当前窗口消耗时间假设处理该客户需要消耗的时间</span></span><br><span class="line">            disWin = i; <span class="comment">//记录窗口与结束时间</span></span><br><span class="line">            disEdTime = nowTime[i] + needTime[win[i].front()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    edTime[win[disWin].front()] = disEdTime;    <span class="comment">//记录客户结束时间</span></span><br><span class="line">    win[disWin].pop();  <span class="comment">//出队</span></span><br><span class="line">    nowTime[disWin] = disEdTime;    <span class="comment">//记录该窗口现在已经消耗的时间</span></span><br><span class="line">    <span class="keyword">if</span>(!win[disWin].empty())</span><br><span class="line">        bgTime[win[disWin].front()] = disEdTime;</span><br><span class="line">        <span class="comment">//下一名客户的开始时间就是上一名客户的结束时间</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disposeAll</span><span class="params">(<span class="keyword">int</span> w)</span></span>&#123; <span class="comment">//处理某窗口全部出队</span></span><br><span class="line">    <span class="keyword">while</span>(!win[w].empty())&#123;</span><br><span class="line">        edTime[win[w].front()] = nowTime[w] + needTime[win[w].front()];</span><br><span class="line">        <span class="comment">//获得用户结束时间</span></span><br><span class="line">        nowTime[w] = edTime[win[w].front()];</span><br><span class="line">        <span class="comment">//记录当前窗口消耗时间</span></span><br><span class="line">        win[w].pop();</span><br><span class="line">        <span class="keyword">if</span>(!win[w].empty())<span class="comment">//记录下一个用户的开始时间</span></span><br><span class="line">            bgTime[win[w].front()] = nowTime[w];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;k, &amp;q) != EOF)&#123;</span><br><span class="line">        <span class="comment">//输入n窗口数，m队列长度，k客户数，q查询数</span></span><br><span class="line">        <span class="built_in">memset</span>(nowTime, <span class="number">0</span>, <span class="keyword">sizeof</span>(nowTime));</span><br><span class="line">        <span class="built_in">memset</span>(needTime, <span class="number">0</span>, <span class="keyword">sizeof</span>(needTime));</span><br><span class="line">        <span class="built_in">memset</span>(edTime, <span class="number">0</span>, <span class="keyword">sizeof</span>(edTime));</span><br><span class="line">        <span class="built_in">memset</span>(bgTime, <span class="number">0</span>, <span class="keyword">sizeof</span>(bgTime));</span><br><span class="line">        <span class="comment">//将所有时间初始化为0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;needTime[i]);</span><br><span class="line">            <span class="comment">//输入服务每个客户所需要的时间</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> minSize, minWin;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)&#123;    <span class="comment">//遍历所有客户</span></span><br><span class="line">            minSize = getMinSize(minWin);   <span class="comment">//找到当前排队最短的窗口</span></span><br><span class="line">            <span class="keyword">if</span>(minSize &gt;= m)&#123;   <span class="comment">//如果所有窗口的队都满了</span></span><br><span class="line">                dispose();  <span class="comment">//执行最先处理完客户所在的窗口出队</span></span><br><span class="line">                minSize = getMinSize(minWin);   <span class="comment">//重新获得最短的队</span></span><br><span class="line">            &#125;</span><br><span class="line">            win[minWin].push(i);    <span class="comment">//入队</span></span><br><span class="line">            <span class="keyword">if</span>(win[minWin].empty())&#123;    <span class="comment">//每个窗口的第一个客户信息</span></span><br><span class="line">                nowTime[minSize] = <span class="number">0</span>;   <span class="comment">//当前窗口消耗时间为0</span></span><br><span class="line">                bgTime[i] = <span class="number">0</span>;  <span class="comment">//第一名客户的开始时间为0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123; <span class="comment">//遍历所有窗口全部出队</span></span><br><span class="line">            <span class="keyword">if</span>(!win[i].empty())&#123;</span><br><span class="line">                disposeAll(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(q--)&#123; <span class="comment">//获得查询</span></span><br><span class="line">            <span class="keyword">int</span> query;</span><br><span class="line">            <span class="keyword">int</span> endtime, begintime;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;query);</span><br><span class="line">            endtime = edTime[query];</span><br><span class="line">            begintime = bgTime[query];</span><br><span class="line">            <span class="comment">//获得查询用户的开始与结束时间</span></span><br><span class="line">            <span class="keyword">int</span> beginhours = <span class="number">8</span> + (begintime / <span class="number">60</span>);</span><br><span class="line">            <span class="keyword">int</span> beginminutes = begintime % <span class="number">60</span>;</span><br><span class="line">            <span class="keyword">int</span> endhours = <span class="number">8</span> + (endtime / <span class="number">60</span>);</span><br><span class="line">            <span class="keyword">int</span> endminutes = endtime % <span class="number">60</span>;</span><br><span class="line">            <span class="keyword">if</span>(beginhours &gt;= <span class="number">17</span>)&#123;   <span class="comment">//开始时间大于17输出Sorry</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Sorry\n"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%02d:%02d\n"</span>, endhours, endminutes);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/STL/" rel="tag"># STL</a>
              <a href="/tags/%E6%A8%A1%E6%8B%9F/" rel="tag"># 模拟</a>
              <a href="/tags/PTA/" rel="tag"># PTA</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/12/16/PTA-Advanced-Level-1013-Battle-Over-Cities/" rel="prev" title="PTA (Advanced Level) 1013 Battle Over Cities">
      <i class="fa fa-chevron-left"></i> PTA (Advanced Level) 1013 Battle Over Cities
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/12/18/PTA-Advanced-Level-1015-Reversible-Primes/" rel="next" title="PTA (Advanced Level) 1015 Reversible Primes">
      PTA (Advanced Level) 1015 Reversible Primes <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-Specification"><span class="nav-number">1.</span> <span class="nav-text">Input Specification:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-Specification"><span class="nav-number">2.</span> <span class="nav-text">Output Specification:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample-Input"><span class="nav-number">3.</span> <span class="nav-text">Sample Input:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample-Output"><span class="nav-number">4.</span> <span class="nav-text">Sample Output:</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SUVVM"
      src="/images/ortrait.jpg">
  <p class="site-author-name" itemprop="name">SUVVM</p>
  <div class="site-description" itemprop="description">SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">157</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">85</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/suvvm" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;suvvm" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/suvvm@foxmail.com" title="E-Mail → suvvm@foxmail.com"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SUVVM</span>
	<a href="http://www.beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">鲁ICP备19040043号-2</a>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  

  

</body>
</html>
