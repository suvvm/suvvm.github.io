<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/ortrait.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ortrait.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ortrait.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.suvvm.work","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
<meta property="og:type" content="website">
<meta property="og:title" content="SUVVM">
<meta property="og:url" content="https://www.suvvm.work/index.html">
<meta property="og:site_name" content="SUVVM">
<meta property="og:description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="SUVVM">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.suvvm.work/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>SUVVM</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e5190116d64be66cac29daef18c94ac0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SUVVM</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">呜嗷SUVVM</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="calendar fa-fw"></i>日程表</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2021/01/30/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%A9%E6%95%88%E8%A1%A1%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/30/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%A9%E6%95%88%E8%A1%A1%E9%87%8F/" class="post-title-link" itemprop="url">推荐系统的绩效衡量</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-30 15:24:21 / 修改时间：16:09:08" itemprop="dateCreated datePublished" datetime="2021-01-30T15:24:21+08:00">2021-01-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="推荐系统的绩效衡量"><a href="#推荐系统的绩效衡量" class="headerlink" title="推荐系统的绩效衡量"></a>推荐系统的绩效衡量</h1><h2 id="一、评测方法"><a href="#一、评测方法" class="headerlink" title="一、评测方法"></a>一、评测方法</h2><p>衡量推荐系统的有效性的方法主要分为三种</p>
<ul>
<li>用户研究</li>
<li>在线估计（A/B测试）</li>
<li>离线评估</li>
</ul>
<p>​    常用的度量方式为<a href="https://en.wikipedia.org/wiki/Mean_squared_error" target="_blank" rel="noopener">方差度量</a>和<a href="https://en.wikipedia.org/wiki/Root_mean_squared_error" target="_blank" rel="noopener">均方根差度量</a></p>
<h3 id="1、用户研究"><a href="#1、用户研究" class="headerlink" title="1、用户研究"></a>1、用户研究</h3><p>​    用户研究是想数十个或数百个用户通过不同推荐策略创建推荐后由用户判断最佳的推荐策略，研究规模一般较小。</p>
<h3 id="2、在线评估"><a href="#2、在线评估" class="headerlink" title="2、在线评估"></a>2、在线评估</h3><p>​    将不同推荐策略作为推荐系统的两个变体，通过受测用户的反映来评估变体的有效性故称之为A/B测试。在线评估过程中通常对将变体直接部署至部分生产环境，将真实产品向成千上万用户展示。</p>
<h3 id="3、离线评估"><a href="#3、离线评估" class="headerlink" title="3、离线评估"></a>3、离线评估</h3><p>​    离线评估是基于历史数据的评估，通常是根据有现成结果的数据集来对推荐系统产出结果进行评估。可以基于一套数据集测试多种算法。</p>
<ul>
<li>通过体制系统获得用户行为数据，生成标准数据集</li>
<li>见数据集按一定规则分为训练集和测试集</li>
<li>使用训练集上训练对应用户/项目模型，使用测试集进行预测</li>
<li>通过定义的离线指标评测推荐算法在测试集的预测结果</li>
</ul>
<h2 id="二、评测指标"><a href="#二、评测指标" class="headerlink" title="二、评测指标"></a>二、评测指标</h2><ul>
<li>预测准确度</li>
<li>信任度</li>
<li>用户满意度</li>
<li>实时性</li>
<li>覆盖率（不要只覆盖热门）</li>
<li>健壮性</li>
<li>多样性（适度提升不相似性）</li>
<li>商业目标（点击率、用户转化率）</li>
<li>惊喜度</li>
</ul>
<h3 id="1、准确度评测"><a href="#1、准确度评测" class="headerlink" title="1、准确度评测"></a>1、准确度评测</h3><ul>
<li><p>评分预测</p>
<ul>
<li><p>通过对获取用户对目标产品的评分历史，建立兴趣模型，预测用户对推荐新物品的可能评分</p>
</li>
<li><p>评分预测采用均方根差（RMSE 真实评分与预测评分的差的平方求和后处以预测的个数后开方）或平均绝对误差（MAE真实评分与预测评分的差的绝对值求和后处以预测的个数）计算</p>
<script type="math/tex; mode=display">
RMSE=
\sqrt{ 
    \frac{
        \sum_{i<T}^{u} (r_{ui} - \hat{r}_{ui})
    }{|T|
    }
}
\qquad
MAE=
\frac{
    \sum_{i\in T}^{u}|r_{ui}-\hat{r}_{ui}|
}{
    |T|
}</script></li>
</ul>
</li>
<li><p>Top-N推荐</p>
<ul>
<li>给用户一个大小为N的个性化推荐列表</li>
<li>Top-N准确率一般使用精确率（precision）和召回率（recall）来度量<ul>
<li>准确率（正确检索的元素数量与总数之比） $ A = \frac{TP + TN}{TP + FP + FN + TN} $</li>
<li>精确率（正确检索的正类与被检索到的全部元素之比）$ P=\frac{TP}{TP+FP} $</li>
<li>召回率（所有检索到的正类与全部正类的之比）$ R = \frac{TP}{TP+FP} $</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>相关(Relevant)正类</th>
<th>无关(NonRelevant)负类</th>
</tr>
</thead>
<tbody>
<tr>
<td>被检索到(Retrieved)</td>
<td>TP（正确检索的正类）</td>
<td>FP（错误检索的负类）</td>
</tr>
<tr>
<td>未被检索到(Not Retrieved)</td>
<td>FN（错误检索的正类）</td>
<td>TN（正确家检索的负类）</td>
</tr>
</tbody>
</table>
</div>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2021/01/27/%E4%BB%A3%E7%90%86%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/27/%E4%BB%A3%E7%90%86%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">代理指南</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-27 16:39:14 / 修改时间：18:39:49" itemprop="dateCreated datePublished" datetime="2021-01-27T16:39:14+08:00">2021-01-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="代理指南"><a href="#代理指南" class="headerlink" title="代理指南"></a>代理指南</h1><p>​    基于已有实体服务器/vps实现代理。</p>
<h2 id="一、get代理示例"><a href="#一、get代理示例" class="headerlink" title="一、get代理示例"></a>一、get代理示例</h2><ul>
<li>谷歌云创建账号-&gt;嫖赠金-&gt;谷歌云控制台 -&gt; Compute Engine -&gt; 虚拟机实例 -&gt; 搞台能ping通的实例</li>
<li>配置2核1G最捞配置还是其他配置随便，看好300刀赠金和每月消耗就行，<strong>谷歌云是有网费的，要付的不止有vps实例的费用，还有网费巨贵大约一个月14刀</strong><a href="https://cloud.google.com/compute/network-pricing?hl=zh-cn" target="_blank" rel="noopener">计费规则</a>，http和https都允许，配好安全规则。</li>
</ul>
<p><strong>下方操作需要在服务器终端完成。配置过程中切忌要在防火墙和运营商安全规则组中放行所需端口</strong></p>
<h2 id="一、伪装主页"><a href="#一、伪装主页" class="headerlink" title="一、伪装主页"></a>一、伪装主页</h2><p>​    搭建伪装主页tomcat、nginx、caddy用啥都没关系，用caddy为例。</p>
<ul>
<li><p><a href="https://caddyserver.com/docs/install#linux-service" target="_blank" rel="noopener">安装caddy</a></p>
</li>
<li><p>创建并进入伪装主页目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/local/caddy/hkg/ &amp;&amp; cd /usr/local/caddy/hkg/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>创建测试主页</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "郭一爱吃粑" &gt; index.html</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行web服务</p>
<p>在当前路径下由终端启动caddy</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">caddy</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问测试主页</p>
<p>caddy默认端口2015</p>
<p><a href="http://服务端实例IP:2015" target="_blank" rel="noopener">http://服务端实例IP:2015</a></p>
<p>能访问成功就ctrl c停止运行</p>
</li>
<li><p>干掉测试主页然后把“臭菠萝腐苹果烂橘子”模版下到上方/usr/local/caddy/hkg/</p>
<ul>
<li><p>Curl</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">curl 'https://www.suvvm.work/OrganicFood/OrganicFood.zip' \</span><br><span class="line">  -H 'authority: www.suvvm.work' \</span><br><span class="line">  -H 'upgrade-insecure-requests: 1' \</span><br><span class="line">  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36' \</span><br><span class="line">  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9' \</span><br><span class="line">  -H 'sec-fetch-site: none' \</span><br><span class="line">  -H 'sec-fetch-mode: navigate' \</span><br><span class="line">  -H 'sec-fetch-user: ?1' \</span><br><span class="line">  -H 'sec-fetch-dest: document' \</span><br><span class="line">  -H 'accept-language: zh-CN,zh;q=0.9' \</span><br><span class="line">  -H 'cookie: serverType=nginx; order=id%20desc; uploadSize=1073741824; rank=a; memRealUsed=658; mem-before=658/1839%20%28MB%29; memSize=1839; one=0.07; five=0.08; fifteen=0.06; conterError=; upNet=2.68; downNet=26.83; Path=/; softType=0; __cfduid=d1a0fd2bc5fc508a1b743615597c9d6de1611470358; Hm_lvt_e5190116d64be66cac29daef18c94ac0=1611117039; Hm_lpvt_e5190116d64be66cac29daef18c94ac0=1611739086' \</span><br><span class="line">  -H 'if-none-match: "60112fa6-1a481e"' \</span><br><span class="line">  -H 'if-modified-since: Wed, 27 Jan 2021 09:17:26 GMT' \</span><br><span class="line">  --compressed</span><br></pre></td></tr></table></figure>
</li>
<li><p>Wget</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install wget -y</span><br><span class="line">wget https://www.suvvm.work/OrganicFood/OrganicFood.zip</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>解压“臭..腐..烂..”模版并把所有内容移至/usr/local/caddy/hkg/</p>
<ul>
<li><p>安装unzip</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install unzip -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压模版</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip OrganicFood.zip</span><br></pre></td></tr></table></figure>
</li>
<li><p>移动模版内容至前一目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv website/* .</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>创建Caddy配置文件</p>
<ul>
<li><p>有域名</p>
<ul>
<li><p>创建一条新的解析记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">记录类型：A</span><br><span class="line">主机记录：ghk（自定义子域名名称）</span><br><span class="line">记录值：服务端IP</span><br><span class="line">TTL：随便配置</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建配置文件（有长期签名最好，没有就算了用caddy自签吧，或者不https直接http也没啥问题一般有域名就不会暴毙）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo "https://hkg.suvvm.work:2333 &#123;</span><br><span class="line">root /usr/local/caddy/hkg/</span><br><span class="line">timeouts none</span><br><span class="line">tls suvvm@foxmail.com</span><br><span class="line">&#125;" &gt; /usr/local/caddy/Caddyfile</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>无域名（有暴毙风险）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo "http://服务端IP:2333 &#123;</span><br><span class="line">root /usr/local/caddy/hkg/</span><br><span class="line">timeouts none</span><br><span class="line">tls suvvm@foxmail.com</span><br><span class="line">&#125;" &gt; /usr/local/caddy/Caddyfile</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>切换到Caddyfile所在目录启动caddy服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/caddy/</span><br><span class="line">caddy</span><br></pre></td></tr></table></figure>
<p>访问配置url判断是否成功</p>
<p>成功后ctrl c停止</p>
</li>
<li><p>caddy后台常驻</p>
<p>nohup或screen随便弄</p>
</li>
</ul>
<h2 id="二、配置ShadowsocksR"><a href="#二、配置ShadowsocksR" class="headerlink" title="二、配置ShadowsocksR"></a>二、配置ShadowsocksR</h2><ul>
<li><p>安装ShadowsocksR</p>
<p>各种一键脚本，找个能用的就行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh &amp;&amp; chmod +x shadowsocksR.sh &amp;&amp; ./shadowsocksR.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改ssr配置文件</p>
<p>server_port http的话就80 https的话就443 none加密良民</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOT &gt; /etc/shadowsocks.json</span><br><span class="line">&#123;</span><br><span class="line">    "server":"0.0.0.0",</span><br><span class="line">    "server_ipv6":"[::]",</span><br><span class="line">    "server_port":443,</span><br><span class="line">    "local_address":"127.0.0.1",</span><br><span class="line">    "local_port":1080,</span><br><span class="line">    "password":"随便啥密码",</span><br><span class="line">    "timeout":120,</span><br><span class="line">    "method":"none",</span><br><span class="line">    "protocol":"auth_chain_a",</span><br><span class="line">    "protocol_param":"",</span><br><span class="line">    "obfs":"tls1.2_ticket_auth",</span><br><span class="line">    "obfs_param":"",</span><br><span class="line">    "redirect":["*:443#127.0.0.1:2333"],</span><br><span class="line">    "dns_ipv6":false,</span><br><span class="line">    "fast_open":false,</span><br><span class="line">    "workers":1</span><br><span class="line">&#125;</span><br><span class="line">EOT</span><br></pre></td></tr></table></figure>
<p>修改完重启ssr</p>
</li>
<li><p>对应客户端配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ip: hkg.suvvm.work</span><br><span class="line">端口号: 443</span><br><span class="line">密码: 随便啥密码</span><br><span class="line">加密: none</span><br><span class="line">协议: auth_chain_a</span><br><span class="line">混淆: tls1.2_ticket_auth</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>iptables 实现客户端 &lt;=&gt; 国内实例 &lt;=国内运营商内网=&gt; 国内实例 &lt;==&gt; 外网实例中继下次快乐了再写。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2021/01/27/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/27/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">推荐系统</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-27 14:38:51 / 修改时间：15:32:40" itemprop="dateCreated datePublished" datetime="2021-01-27T14:38:51+08:00">2021-01-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="推荐系统"><a href="#推荐系统" class="headerlink" title="推荐系统"></a>推荐系统</h1><p>​    推荐系统是一个子类信息过滤系统，旨在根据目标角色过去的行为以及其他角色所做出的类似决策来构建模型，并使用该模型推荐具有相似属性的项目。当前推荐系统大多是组合了多种推荐算法的混合系统。</p>
<h2 id="一、推荐系统目的"><a href="#一、推荐系统目的" class="headerlink" title="一、推荐系统目的"></a>一、推荐系统目的</h2><p>​    一个出色的推荐系统最终要实现的是用户、内容（目标项目）、使用推荐系统的平台三方共赢，而不是成为资本家推送产品的帮凶。</p>
<ol>
<li>让用户更快速的获取到所需的目标内容</li>
<li>让内容更快推送到具有特定偏好的用户中</li>
<li>让使用推荐系统的平台更有效的保留用户资源</li>
</ol>
<h2 id="二、推荐算法"><a href="#二、推荐算法" class="headerlink" title="二、推荐算法"></a>二、推荐算法</h2><h3 id="1、协同过滤（Collaborative-Filtering）"><a href="#1、协同过滤（Collaborative-Filtering）" class="headerlink" title="1、协同过滤（Collaborative Filtering）"></a>1、协同过滤（Collaborative Filtering）</h3><p>​    协同过滤的理论基于一种假设：用户过去的决策与未来的决策不会发生变动，过去认同的属性在将来也会得到认同。推荐算法使用不同用户对目标项目的评级历史集来生成建议，通过在历史集中查找与当前用户有相似评级的用户，使用邻域（测试用户相似性与项目相似性如k-NN）生成推荐。</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>不依赖于机器可分析内容</li>
<li>可以准确推荐复杂项目</li>
<li>无需了解被推荐项目本身属性</li>
</ul>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>对于历史集中未给出的新项目，没有足够数据来给出准确建议（冷启动）</li>
<li>若历史集项目和用户数量巨大，则每次推荐都需要大量的计算能力（可伸缩性）</li>
<li>大部分用户不会对全部项目进行评级，只会对一小部分项目进行评级（稀疏性）</li>
</ul>
<h3 id="2、基于内容的过滤（Content-based-Filtering）"><a href="#2、基于内容的过滤（Content-based-Filtering）" class="headerlink" title="2、基于内容的过滤（Content-based Filtering）"></a>2、基于内容的过滤（Content-based Filtering）</h3><p>​    基于内容的过滤使用项目属性和用户偏好通过机器学习的方法来进行推荐，一般适用于在项目有已知属性（名称、位置、描述等等）但用户没有已知数据的情况。基于内容的过滤最关键问题就是针对用户偏好的建模。</p>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><ul>
<li>只需要用户对特征属性的偏好，而不需要用户对项目的评价（可以分析新项目）</li>
<li>可以通过控制项目特征属性的维度来控制推荐精度</li>
</ul>
<h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>物品属性最大纬度有限切提取属性困难</li>
<li>可分析内容有限，推荐内容僵化</li>
</ul>
<h3 id="3、多标准推荐系统（Multi-criteria-recommender-systems）"><a href="#3、多标准推荐系统（Multi-criteria-recommender-systems）" class="headerlink" title="3、多标准推荐系统（Multi-criteria recommender systems）"></a>3、多标准推荐系统（Multi-criteria recommender systems）</h3><p>​    可以将多标准推荐系统（MCRS）定义为在多个标准上包含首选项信息的推荐系统。多标准推荐系统是基于对影响用户对项目总体偏好的多个标准来预测用户对新新项目的评级。</p>
<h3 id="4、有风险意识的推荐系统（Risk-aware-recommender-systems）"><a href="#4、有风险意识的推荐系统（Risk-aware-recommender-systems）" class="headerlink" title="4、有风险意识的推荐系统（Risk-aware recommender systems）"></a>4、有风险意识的推荐系统（Risk-aware recommender systems）</h3><p>​    有风险意识的推荐系统不止根据上下文信息而产出推荐内容，而且考虑了某些情况下产出推荐的风险。多采用DRARS，将上下文感知建通过<a href="https://en.wikipedia.org/wiki/Multi-armed_bandit" target="_blank" rel="noopener">多臂老虎机算法</a>进行建模。</p>
<h3 id="5、移动推荐系统（Mobile-recommender-systems）"><a href="#5、移动推荐系统（Mobile-recommender-systems）" class="headerlink" title="5、移动推荐系统（Mobile recommender systems）"></a>5、移动推荐系统（Mobile recommender systems）</h3><p>​    移动推荐系统通过可以访问互联网等我移动设备提供个性化推荐（如驾驶路线推荐）其需要处理的数据异构而嘈杂。一般存在四个关键因素：上下文、推荐方法、隐私和地方政策。</p>
<h3 id="6、基于会话的推荐系统（Session-based-recommender-systems）"><a href="#6、基于会话的推荐系统（Session-based-recommender-systems）" class="headerlink" title="6、基于会话的推荐系统（Session-based recommender systems）"></a>6、基于会话的推荐系统（Session-based recommender systems）</h3><p>​    基于会话的推荐系统使用会话中与用户的交互，在无需用户行为历史记录的情况下，根据最近会话交互顺序使用例如递归神经网络之类的深度学习算法生成顺序模型。</p>
<h3 id="7、强化学习推荐系统（Reinforcement-learning-for-recommender-systems）"><a href="#7、强化学习推荐系统（Reinforcement-learning-for-recommender-systems）" class="headerlink" title="7、强化学习推荐系统（Reinforcement learning for recommender systems）"></a>7、强化学习推荐系统（Reinforcement learning for recommender systems）</h3><p>​    强化学习推荐系统通过直接训练用户参与度对用户兴趣模型进行优化（如有奖调查💪👴👉爪巴）通过向被推荐对象提供奖励来学习模型或策略。</p>
<h3 id="8、混合推荐系统（Hybrid-recommender-systems）"><a href="#8、混合推荐系统（Hybrid-recommender-systems）" class="headerlink" title="8、混合推荐系统（Hybrid recommender systems）"></a>8、混合推荐系统（Hybrid recommender systems）</h3><p>​    混合推荐系统是当前大多数推荐系统使用的方法，其主要策略是将协作过滤、基于内容过滤等和其他方法结合在一起，对不同技术进行杂交混合。</p>
<p>​    混合方法：</p>
<ul>
<li>加权（Weighted）：将不同推荐成分加权进行组合</li>
<li>变换（Switching）：推荐时在不同推荐算法组件中进行切换</li>
<li>混合（Mixed）：将来自不同算法的结果混合显示给用户</li>
<li>特征组合（Feature Combination）：将不同知识来源的特征进行组合，提供给单个推荐算法</li>
<li>特征增强（Feature Augmentation）：将一种算法产生的附加的特征信息嵌入另一种推荐算法的特征输入中</li>
<li>级联（Cascade）：一个算法的结果作为另一个算法的输入</li>
<li>元级别（Meta-Ievel)）：用一种推荐方法产生的模型作为另一种推荐方法的输入</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2021/01/20/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/20/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">自然语言处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-20 15:54:27" itemprop="dateCreated datePublished" datetime="2021-01-20T15:54:27+08:00">2021-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-21 14:24:09" itemprop="dateModified" datetime="2021-01-21T14:24:09+08:00">2021-01-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="自然语言处理"><a href="#自然语言处理" class="headerlink" title="自然语言处理"></a>自然语言处理</h1><p>​    自然语言处理NLP是使一台计算机”理解“自然语言文档内容，包括文档中的上下文差别，准确提取文档中包含的信息和见解，并对文档本身进行分类和组织。常见的挑战涉及语音识别、自然语言理解和自然语言生成。</p>
<h2 id="一、方法"><a href="#一、方法" class="headerlink" title="一、方法"></a>一、方法</h2><h3 id="1、规则方法"><a href="#1、规则方法" class="headerlink" title="1、规则方法"></a>1、规则方法</h3><p>​    受计算机语言学理论指导，基于规则的自然语言处理方法强调对语言知识的理性整理，通过专家人工设计不同规则建立有关自然语言的有限状态模型。</p>
<p>​    一直到1980年代，多数自然语言处理系统是以一套复杂、人工订定的规则为基础。</p>
<p>​    但规则方法难以覆盖多种多样的语言现象，且制定规则费时费力，现已趋于废弃。</p>
<h3 id="2、统计方法"><a href="#2、统计方法" class="headerlink" title="2、统计方法"></a>2、统计方法</h3><p>​    统计方法运用了推测学、几率、统计的方法来进行自然语言处理。使用机器学习算法处理自然语言，通过<a href="https://zh.wikipedia.org/wiki/%E8%AA%9E%E6%96%99%E5%BA%AB" target="_blank" rel="noopener">语料库</a>和马科夫模型处理高度磨合的句子和进行消歧。</p>
<p>​    自从1980年代末和1990年代中期发生的“统计革命”以来，许多自然语言处理研究都开始使用统计方法，传统的基于句法-语义规则的理性主义方法过于复杂，随着语料库建设和语料库语言学的崛起，大规模真实文本的机器学习处理成为自然语言处理的主要选择。</p>
<h3 id="3、神经网络"><a href="#3、神经网络" class="headerlink" title="3、神经网络"></a>3、神经网络</h3><h4 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h4><p>​    神经网络是由人工或生物性神经元组成的神经网络。神经元之间的连接加权建模。正直表示兴奋性联系，负值表示抑制性联系。所有输入都通过权重进行修改求和。</p>
<p>​    这些人工的神经网络可以用于预测建模，自适应控制和应用，可以通过数据集合对其惊喜训练，并从一堆看似负载且无关的消息中的出所需结论。</p>
<h3 id="神经网络自然语言处理"><a href="#神经网络自然语言处理" class="headerlink" title="神经网络自然语言处理"></a>神经网络自然语言处理</h3><p>​    神经网络方法无需向统计方法一般精心设计特征工程，转而使用神经网络进行机器学习。流行技术包括使用单词嵌入捕获单词的语义，并增加更高级的功能（如回答问题）的端到端学习，而不需要将高级问题拆分为中间问题（词性标记和依赖性分析）的解析。神经网络的出现导致NLP系统设计方式发生重大改变，因此基于深度神经网络的方法可以被视为不同于统计方法的新的处理方法。</p>
<h2 id="二、常见NLP任务"><a href="#二、常见NLP任务" class="headerlink" title="二、常见NLP任务"></a>二、常见NLP任务</h2><h3 id="1、文字和语音处理"><a href="#1、文字和语音处理" class="headerlink" title="1、文字和语音处理"></a>1、文字和语音处理</h3><ul>
<li>光学符号识别（OCR）</li>
<li>语音识别</li>
<li>语音分割</li>
<li>文字转语音</li>
<li>单词拆分</li>
</ul>
<h3 id="2、形态分析"><a href="#2、形态分析" class="headerlink" title="2、形态分析"></a>2、形态分析</h3><ul>
<li>合法化（将语义不合法的连续单词组进行规范化）</li>
<li>形态分割（将单词分为<a href="https://en.wikipedia.org/wiki/Morpheme" target="_blank" rel="noopener">词素</a>）</li>
<li>词性标记</li>
<li>提取主干（将单词的变形或派生提取为基本形式）</li>
</ul>
<h3 id="3、句法分析"><a href="#3、句法分析" class="headerlink" title="3、句法分析"></a>3、句法分析</h3><ul>
<li>语法归纳</li>
<li>句边界消歧</li>
<li>句分析树构建</li>
</ul>
<h3 id="4、-上下文语法语义"><a href="#4、-上下文语法语义" class="headerlink" title="4、 上下文语法语义"></a>4、 上下文语法语义</h3><ul>
<li>词汇语义</li>
<li>分布语义</li>
<li>命名实体识别（专有名词识别）</li>
<li>情绪分析（提取剧中的主观信息判读对象情绪）</li>
<li>术语提取</li>
<li>词义消歧</li>
</ul>
<h3 id="5、关系语义学"><a href="#5、关系语义学" class="headerlink" title="5、关系语义学"></a>5、关系语义学</h3><ul>
<li>关系提取（根据大量文本确定命名实体之间的关系，如婚姻关系）</li>
<li>语义解析</li>
<li>语义角色标签（给一个橘子识别语义角色）</li>
</ul>
<h3 id="6、话语"><a href="#6、话语" class="headerlink" title="6、话语"></a>6、话语</h3><ul>
<li>共同解析（”我翻墙进入郭一后庭“ ‘后庭’是指代表达，指代的是我进入的庭院是郭一家后方的庭院）</li>
<li>话语分析（分析句子间的关系）</li>
<li>隐式语义角色标签（识别消除谓词和显示语义角色，识别未明确的语义角色）</li>
<li>认识文字蕴含（识别一段文本的意思是否包含另一段，是否为另一段的否定等）</li>
<li>主题细分与识别</li>
</ul>
<h3 id="7、高级NLP应用"><a href="#7、高级NLP应用" class="headerlink" title="7、高级NLP应用"></a>7、高级NLP应用</h3><ul>
<li>自动摘要</li>
<li>图书生成</li>
<li>对话管理（与人类对话）</li>
<li>文件AI</li>
<li>语法错误矫正</li>
<li>机器翻译</li>
<li>自然语言生成NLG</li>
<li>自然语言理解NLU</li>
<li>问题回答</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2021/01/19/%E5%9B%BE%E7%81%B5%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/19/%E5%9B%BE%E7%81%B5%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">图灵测试与推荐算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-19 16:05:34 / 修改时间：17:56:32" itemprop="dateCreated datePublished" datetime="2021-01-19T16:05:34+08:00">2021-01-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="图灵测试与推荐算法"><a href="#图灵测试与推荐算法" class="headerlink" title="图灵测试与推荐算法"></a>图灵测试与推荐算法</h1><h2 id="一、图灵测试概念"><a href="#一、图灵测试概念" class="headerlink" title="一、图灵测试概念"></a>一、图灵测试概念</h2><p>​    计算机在没有直接物理接触的情况下接受<strong>人类询问</strong>，尽可能的伪装为人类（给出与人类相同的答案），使得足够多的”询问者“在“足够长”的时间里无法以“足够高”的正确率辨别被确定是机器还是人类，则认为该机器通过图灵测试。^1^    </p>
<h2 id="二、推荐算法概念"><a href="#二、推荐算法概念" class="headerlink" title="二、推荐算法概念"></a>二、推荐算法概念</h2><p>​    推荐算法是通过<a href="https://en.wikipedia.org/wiki/Collaborative_filtering" target="_blank" rel="noopener">协同过滤</a>（collaborative filtering）和基于内容的过滤根据目标角色过去的行为以及其他角色所做出的类似决策来构建模型，并推荐具有相似属性的项目。</p>
<h2 id="三、对于推荐算法进行测试"><a href="#三、对于推荐算法进行测试" class="headerlink" title="三、对于推荐算法进行测试"></a>三、对于推荐算法进行测试</h2><p>​    对于当前普通的推荐系统，一个智商正常的强力人来说，很容易便能发现这是这些推荐内容是由愚蠢的机器提供的。即使精心设计的推荐系统也会面临这样的问题。类似资本家奶头乐抖音的视频推荐和消费主义陷阱淘宝的首页推荐。它们的推荐结果都是机械的、可预测的。而且对于这些没有开源推荐逻辑的“不透明”的算法，往往会引起“鉴人”们的反感并遭到呵斥。</p>
<p>​    若想避免上述情况发生，就必须在保证推荐结果合理的情况下，在推荐系统中加入部分不可确定的随机特性，以确保用户得以相信，推荐算法的背后拥有人工的影子。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2020/05/12/%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/12/%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">进程调度算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-12 21:39:34" itemprop="dateCreated datePublished" datetime="2020-05-12T21:39:34+08:00">2020-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="进程调度算法"><a href="#进程调度算法" class="headerlink" title="进程调度算法"></a>进程调度算法</h1><h2 id="先来先服务（FCFS）"><a href="#先来先服务（FCFS）" class="headerlink" title="先来先服务（FCFS）"></a>先来先服务（FCFS）</h2><p>维护一个先进先出的就绪队列，服务先抵达的进程，适用于CPU繁忙型，不适合I/O繁忙型。有利于长作业。</p>
<h2 id="短作业优先（SJ-PF）"><a href="#短作业优先（SJ-PF）" class="headerlink" title="短作业优先（SJ/PF）"></a>短作业优先（SJ/PF）</h2><p>在就绪队列中挑选估算运行时间最小的进程使其获得处理机并尽快结束。有利于短作业。</p>
<h2 id="非抢占优先级调度"><a href="#非抢占优先级调度" class="headerlink" title="非抢占优先级调度"></a>非抢占优先级调度</h2><p>在就绪队列中选取优先级最高的进程使其获得处理机直到中断或运行完毕，运行过程中不允许被高优先级进程抢占。</p>
<p>用于批处理系统或实时性要求不高的系统。</p>
<h2 id="抢占式优先级调度"><a href="#抢占式优先级调度" class="headerlink" title="抢占式优先级调度"></a>抢占式优先级调度</h2><p>在就绪队列中选取优先级最高的进程使其获得处理机，运行过程中如果就绪队列中出现优先级更高的进程，则优先级更高的进程会抢占处理机。</p>
<p>一般用于实时系统或对性能要求较高的分时系统中。</p>
<h2 id="高响应比优先调度"><a href="#高响应比优先调度" class="headerlink" title="高响应比优先调度"></a>高响应比优先调度</h2><p>结合等待时间估算运行时间多方面考虑，进行进程调度 $ 优先权 = \frac{等待时间}{估算运行时间}$ </p>
<h2 id="轮转调度"><a href="#轮转调度" class="headerlink" title="轮转调度"></a>轮转调度</h2><p>将使用定时器cpu处理时间分割为固定的时间片，每次选取就绪队列第一个进程获得处理机，经过一个时间片后若进程未结束则进入就绪队列队，重新选择获的处理机的进程。</p>
<h2 id="多级反馈队列"><a href="#多级反馈队列" class="headerlink" title="多级反馈队列"></a>多级反馈队列</h2><p>设置多个等级的就绪队列，高级队列中的进程未执行完毕之前，低级就绪队列的进程不会得到执行，可为不同级别进程设置不同的时间片长度。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2020/05/10/SQL-JOIN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/10/SQL-JOIN/" class="post-title-link" itemprop="url">SQL JOIN</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-10 18:42:05" itemprop="dateCreated datePublished" datetime="2020-05-10T18:42:05+08:00">2020-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SQL-JOIN"><a href="#SQL-JOIN" class="headerlink" title="SQL JOIN"></a>SQL JOIN</h1><h2 id="INNER-JOIN"><a href="#INNER-JOIN" class="headerlink" title="INNER JOIN"></a>INNER JOIN</h2><p><img src="/2020/05/10/SQL-JOIN/innerJoin.svg" alt="img"></p>
<p>INNER JOIN是指目标关系的交集</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 目标属性 <span class="keyword">FROM</span> 左关系名 左别名 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> 右关系名 右别名 <span class="keyword">on</span> 左别名.条件属性 = 右别名.条件属性</span><br></pre></td></tr></table></figure>
<h2 id="LEFT-JOIN"><a href="#LEFT-JOIN" class="headerlink" title="LEFT JOIN"></a>LEFT JOIN</h2><p><img src="/2020/05/10/SQL-JOIN/leftJoin.svg" alt="img"></p>
<p>LEFT JOIN是指目标关系的交集与左侧关系的并集，即显示左侧关系的全部内容，若其对应右侧关系目标值满足条件则显示，否则显示null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 目标属性 <span class="keyword">FROM</span> 左关系名 左别名 <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> 右关系名 右别名 <span class="keyword">on</span> 左别名.条件属性 = 右别名.条件属性</span><br></pre></td></tr></table></figure>
<h2 id="RIGHT-JOIN"><a href="#RIGHT-JOIN" class="headerlink" title="RIGHT JOIN"></a>RIGHT JOIN</h2><p><img src="/2020/05/10/SQL-JOIN/rightJoin.svg" alt="img"></p>
<p>RIGHT JOIN是指目标关系的交集与右侧关系的并集，即显示右侧关系的全部内容，若其对应左侧关系目标值满足条件则显示，否则显示null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 目标属性 <span class="keyword">FROM</span> 左关系名 左别名 <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> 右关系名 右别名 <span class="keyword">on</span> 左别名.条件属性 = 右别名.条件属性</span><br></pre></td></tr></table></figure>
<h2 id="FULL-JOIN"><a href="#FULL-JOIN" class="headerlink" title="FULL JOIN"></a>FULL JOIN</h2><p><img src="/2020/05/10/SQL-JOIN/fullJoin.svg" alt="img"></p>
<p>FULL JOIN是指目标关系的并集，即显示左侧关系与右侧关系的全部内容，若其对应关系目标值满足条件则显示，否则显示null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 目标属性 <span class="keyword">FROM</span> 左关系名 左别名 <span class="keyword">FULL</span> <span class="keyword">JOIN</span> 右关系名 右别名 <span class="keyword">on</span> 左别名.条件属性 = 右别名.条件属性</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2020/05/09/Java-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/09/Java-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">Java 生产者消费者模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-09 20:54:59" itemprop="dateCreated datePublished" datetime="2020-05-09T20:54:59+08:00">2020-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Java-生产者消费者模式"><a href="#Java-生产者消费者模式" class="headerlink" title="Java 生产者消费者模式"></a>Java 生产者消费者模式</h1><p>生产者消费者模式将产生数据的执行流叫做生产者，将处理数据的执行流叫做消费者，为生产者于消费者提供数据缓冲区，生产者将数据写入缓冲区，消费者从缓冲区中获取数据，实现生产者于消费者的同步。</p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li><p>优点</p>
<ul>
<li><p>降低耦合度</p>
<p>由于有缓冲区的概念，生产者与消费者之间没有直接的依赖关系，可以降低系统耦合度</p>
</li>
<li><p>提高效率</p>
<p>生产者与消费者并发允许，操作数据缓冲区，提高了系统效率</p>
</li>
<li><p>平衡生产者与消费者之间的处理速度差</p>
</li>
</ul>
</li>
</ul>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="排它锁"><a href="#排它锁" class="headerlink" title="排它锁"></a>排它锁</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: BoundedBuffer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者消费者的有界缓冲区</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoundedBuffer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object flag;</span><br><span class="line">    <span class="keyword">private</span> Integer maxSize;</span><br><span class="line">    <span class="keyword">private</span> Queue buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BoundedBuffer</span><span class="params">(Object flag, Integer maxSize, Queue buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = flag;</span><br><span class="line">        <span class="keyword">this</span>.maxSize = maxSize;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getFlag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getMaxSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> maxSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">getBuffer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> maxSize == buffer.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> buffer.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BoundedBuffer boundedBuffer = <span class="keyword">new</span> BoundedBuffer(<span class="keyword">new</span> Object(), <span class="number">10</span>, <span class="keyword">new</span> LinkedList());</span><br><span class="line">        Thread p1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(boundedBuffer), <span class="string">"Producer001"</span>);</span><br><span class="line">        Thread p2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(boundedBuffer), <span class="string">"Producer002"</span>);</span><br><span class="line">        Thread c1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(boundedBuffer), <span class="string">"Consumer001"</span>);</span><br><span class="line">        Thread c2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(boundedBuffer), <span class="string">"Consumer002"</span>);</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Producer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者，每秒向缓冲区中添加一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BoundedBuffer buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(BoundedBuffer buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">synchronized</span> (buffer.getFlag()) &#123;</span><br><span class="line">                <span class="keyword">while</span> (buffer.isFull()) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(<span class="string">"Producter:buffer is full"</span>);</span><br><span class="line">                        buffer.getFlag().wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Object val = <span class="keyword">new</span> Object();</span><br><span class="line">                buffer.getBuffer().add(val);</span><br><span class="line">                System.out.println(<span class="string">"Productor "</span> + Thread.currentThread().getName() + <span class="string">" put "</span> + val);</span><br><span class="line">                buffer.getFlag().notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Consumer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 消费者，每2秒从缓冲区中取出一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:53</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BoundedBuffer buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(BoundedBuffer buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">synchronized</span> (buffer.getFlag()) &#123;</span><br><span class="line">                <span class="keyword">while</span> (buffer.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        buffer.getBuffer().wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Object val = buffer.getBuffer().poll();</span><br><span class="line">                System.out.println(<span class="string">"Consumer "</span> + Thread.currentThread().getName() + <span class="string">" poll "</span> + val);</span><br><span class="line">                buffer.getFlag().notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="可重入锁"><a href="#可重入锁" class="headerlink" title="可重入锁"></a>可重入锁</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: BoundedBuffer02</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者消费者的有界缓冲区</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoundedBuffer02</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Lock lock;</span><br><span class="line">    <span class="keyword">private</span> Integer maxSize;</span><br><span class="line">    <span class="keyword">private</span> Queue buffer;</span><br><span class="line">    <span class="keyword">private</span> Condition emptyCondition;</span><br><span class="line">    <span class="keyword">private</span> Condition fullCondition;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BoundedBuffer02</span><span class="params">(Lock lock, Integer maxSize, Queue buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lock = lock;</span><br><span class="line">        <span class="keyword">this</span>.maxSize = maxSize;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">        emptyCondition = lock.newCondition();</span><br><span class="line">        fullCondition = lock.newCondition();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Lock <span class="title">getLock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getMaxSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> maxSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">getBuffer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> maxSize == buffer.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> buffer.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Condition <span class="title">getEmptyCondition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> emptyCondition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Condition <span class="title">getFullCondition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fullCondition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BoundedBuffer02 boundedBuffer = <span class="keyword">new</span> BoundedBuffer02(<span class="keyword">new</span> ReentrantLock(), <span class="number">10</span>, <span class="keyword">new</span> LinkedList());</span><br><span class="line">        Thread p1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer02(boundedBuffer), <span class="string">"Producer001"</span>);</span><br><span class="line">        Thread p2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer02(boundedBuffer), <span class="string">"Producer002"</span>);</span><br><span class="line">        Thread c1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer02(boundedBuffer), <span class="string">"Consumer001"</span>);</span><br><span class="line">        Thread c2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer02(boundedBuffer), <span class="string">"Consumer002"</span>);</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Producer02</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者，每秒向缓冲区中添加一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer02</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BoundedBuffer02 buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer02</span><span class="params">(BoundedBuffer02 buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            buffer.getLock().lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (buffer.isFull()) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName() + <span class="string">":buffer is full"</span>);</span><br><span class="line">                        buffer.getFullCondition().await();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Object val = <span class="keyword">new</span> Object();</span><br><span class="line">                buffer.getBuffer().add(val);</span><br><span class="line">                System.out.println(<span class="string">"Productor "</span> + Thread.currentThread().getName() + <span class="string">" put "</span> + val);</span><br><span class="line">                buffer.getEmptyCondition().signal();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                buffer.getLock().unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Consumer02</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 消费者，每2秒从缓冲区中取出一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:53</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer02</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BoundedBuffer02 buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumer02</span><span class="params">(BoundedBuffer02 buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            buffer.getLock().lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (buffer.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName() + <span class="string">":buffer is empty"</span>);</span><br><span class="line">                        buffer.getEmptyCondition().await();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Object val = buffer.getBuffer().poll();</span><br><span class="line">                System.out.println(<span class="string">"Consumer "</span> + Thread.currentThread().getName() + <span class="string">" poll "</span> + val);</span><br><span class="line">                buffer.getFullCondition().signal();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                buffer.getLock().unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="阻塞队列"><a href="#阻塞队列" class="headerlink" title="阻塞队列"></a>阻塞队列</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: BoundedBuffer03</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者消费者的有界缓冲区</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoundedBuffer03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BlockingQueue&lt;Object&gt; boundedBuffer = <span class="keyword">new</span> ArrayBlockingQueue&lt;&gt;(<span class="number">10</span>);</span><br><span class="line">        Thread p1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer03(boundedBuffer), <span class="string">"Producer001"</span>);</span><br><span class="line">        Thread p2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer03(boundedBuffer), <span class="string">"Producer002"</span>);</span><br><span class="line">        Thread c1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer03(boundedBuffer), <span class="string">"Consumer001"</span>);</span><br><span class="line">        Thread c2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer03(boundedBuffer), <span class="string">"Consumer002"</span>);</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Producer03</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生产者，每秒向缓冲区中添加一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer03</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer03</span><span class="params">(BlockingQueue buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                Object val = <span class="keyword">new</span> Object();</span><br><span class="line">                buffer.put(val);</span><br><span class="line">                System.out.println(<span class="string">"Productor "</span> + Thread.currentThread().getName() + <span class="string">" put "</span> + val);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Consumer03</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 消费者，每2秒从缓冲区中取出一条数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: SUVVM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/5/9 19:53</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer03</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue buffer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumer03</span><span class="params">(BlockingQueue buffer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buffer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                Object val = buffer.take();</span><br><span class="line">                System.out.println(<span class="string">"Consumer "</span> + Thread.currentThread().getName() + <span class="string">" poll "</span> + val);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2020/05/08/java-%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/08/java-%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8/" class="post-title-link" itemprop="url">java 四种引用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-08 17:22:08" itemprop="dateCreated datePublished" datetime="2020-05-08T17:22:08+08:00">2020-05-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Java-四种引用"><a href="#Java-四种引用" class="headerlink" title="Java 四种引用"></a>Java 四种引用</h1><h2 id="强引用"><a href="#强引用" class="headerlink" title="强引用"></a>强引用</h2><p>强引用指的是与对象直接关联的引用，如直接创建一个对象并把这个对象赋值给目标类型引用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object[] objects = <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br></pre></td></tr></table></figure>
<p>被强引用所指向的对象在强引用消失前永远不会被垃圾回收器回收，但是可以通过显示将强引用赋值为null来消除强引用与目标对象的关系。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objects = <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>
<h2 id="软引用"><a href="#软引用" class="headerlink" title="软引用"></a>软引用</h2><p>软引用一般用于描述有用但非必要的引用（如图片缓存），在内存充足时软引用关联的对象不对被垃圾回收器回收，在其被回收之前一直可以通过get方法得到强引用，被回收后调用get方法将得到null。</p>
<p>JDK1.2后提供了SoftReference实现软引用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SoftReference&lt;Object&gt; softReference = <span class="keyword">new</span> SoftReference&lt;&gt;(<span class="keyword">new</span> Object());</span><br></pre></td></tr></table></figure>
<h2 id="弱引用"><a href="#弱引用" class="headerlink" title="弱引用"></a>弱引用</h2><p>弱引用一般用于描述用处不大的非必要的引用，当垃圾回收器开始垃圾回收时，无论内存空间是否充足，弱引用关联的对象都将被回收。</p>
<p>WeakHashMap中的key使用的就是虚引用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WeakReference&lt;Object&gt; weakReference = <span class="keyword">new</span> WeakReference&lt;&gt;(<span class="keyword">new</span> Object());</span><br></pre></td></tr></table></figure>
<h2 id="虚引用"><a href="#虚引用" class="headerlink" title="虚引用"></a>虚引用</h2><p>虚引用无法通过get方法获得对象，创建虚引用时需要指明引用队列，在其指向的对象被回收后期会被加入引用队列表示其指向对象被销毁。一般用于探查对象何时从堆中被移除，比如可以利用它在上一张图片资源被从堆中移除后加载下一张图片。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ReferenceQueue&lt;Object&gt; queue = <span class="keyword">new</span> ReferenceQueue&lt;&gt;();</span><br><span class="line">PhantomReference&lt;Object&gt; pr = <span class="keyword">new</span> PhantomReference&lt;&gt;(<span class="keyword">new</span> Object(), queue);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.suvvm.work/2020/05/05/HTTP-%E4%B8%8E-HTTPS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ortrait.jpg">
      <meta itemprop="name" content="SUVVM">
      <meta itemprop="description" content="SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SUVVM">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/05/HTTP-%E4%B8%8E-HTTPS/" class="post-title-link" itemprop="url">HTTP 与 HTTPS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-05 20:13:08" itemprop="dateCreated datePublished" datetime="2020-05-05T20:13:08+08:00">2020-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 22:05:00" itemprop="dateModified" datetime="2020-12-19T22:05:00+08:00">2020-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E5%BD%92%E7%BA%B3/" itemprop="url" rel="index"><span itemprop="name">理论归纳</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTTP-与-HTTPS"><a href="#HTTP-与-HTTPS" class="headerlink" title="HTTP 与 HTTPS"></a>HTTP 与 HTTPS</h1><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>HTTP协议从小学就开始学，是一种应用层的基于TCP/IP的，无状态的数据传输协议，发送的是明文数据。</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li>根据域名查找DNS获取ip地址</li>
<li>与服务器建立TCP连接</li>
<li>客户端发送请求至服务器</li>
<li>服务器处理客户请求返回响应信息</li>
<li>客户端接收响应信息并进行下一步处理</li>
</ul>
<h3 id="HTTP请求结构"><a href="#HTTP请求结构" class="headerlink" title="HTTP请求结构"></a>HTTP请求结构</h3><ul>
<li><p>请求行</p>
<ul>
<li>请求方法method</li>
<li>请求url字段</li>
<li>协议版本</li>
</ul>
</li>
<li><p>请求头</p>
<p>请求头包含一些常用请求头字段记录和客户端的各种信息，如Cookie就是被组合在请求头中</p>
</li>
<li><p>空行</p>
<p>只包含回车符和换行符，用于表示请求头截止</p>
</li>
<li><p>请求数据</p>
<p>包含客户端要向服务器提交的数据的键值对</p>
</li>
</ul>
<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>默认工作在443端口，为了解决HTTP明文传输的安全问题，HTTPS协议在HTTP协议基础上加入了SSL层，通过加密传输与身份认证保证安全性。可以视HTTPS为包装在SSL/TLS协议下的HTTP。</p>
<p>使用HTTPS需要在服务端配置私钥与证书</p>
<p>如nginx证书的key（私钥）与pem（证书）文件</p>
<p>ssl证书可以由受信任的数字证书颁发机构颁发，也可以自行签发，主要包括如颁发者信息，签名，指纹，有效期，申请者信息，公钥加密算法，公钥一类的服务端身份信息。</p>
<h3 id="SSL协议"><a href="#SSL协议" class="headerlink" title="SSL协议"></a>SSL协议</h3><p>安全套接字协议，为网络通信提供数据加密与完整性检验</p>
<ul>
<li>握手协议：客户端与服务器的相互验证，协商加密算法与交换密钥</li>
<li>记录协议：提供加密传输与完整性验证</li>
<li>警报协议：发现错误报警发现致命错误删除相关信息后关闭连接</li>
</ul>
<h3 id="TLS协议"><a href="#TLS协议" class="headerlink" title="TLS协议"></a>TLS协议</h3><p>安全传输层协议，基于SSL3.0，与SSL3.0加密方式不同，可以视为升级版的SSL</p>
<p>HTTPS协议同时采取了对称加密与非对称加密</p>
<h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li>客户端向服务器443端口发送握手协议HTTP请求</li>
<li>服务器收到请求后将其证书发送给客户端</li>
<li>客户端收到证书后进行合法性验证</li>
<li>验证完毕后客户端根据证书中的公钥生成一个密钥，之后将使用密钥将要传输的数据进行加密发送给服务器</li>
<li>服务器收到客户端密文后根据私钥将密钥进行解密</li>
<li>使用解密后的密钥加密响应数据发送给客户端</li>
<li>客户端根据密钥进行堆成解密</li>
</ul>
<h3 id="验证证书合法性"><a href="#验证证书合法性" class="headerlink" title="验证证书合法性"></a>验证证书合法性</h3><p>受信任的权威机构的根证书会内嵌在浏览器中</p>
<ul>
<li>浏览器在收到证书后会首先寻找目标颁发机构的根证书</li>
<li>根据根公钥解密目标证书的数字签名</li>
<li>解密后得到指纹（证书的hash值）和指纹算法</li>
<li>根据指纹算法去计算出当前证书的hash值</li>
<li>对比指纹与当前hash值是否相同</li>
<li>相同则继续检查url和先前请求url是否相同</li>
<li>若相同则证书合法</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SUVVM"
      src="/images/ortrait.jpg">
  <p class="site-author-name" itemprop="name">SUVVM</p>
  <div class="site-description" itemprop="description">SUVVM的个人博客，主要涉及编程知识分享、算法题解等方面</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">148</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">84</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/suvvm" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;suvvm" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/suvvm@foxmail.com" title="E-Mail → suvvm@foxmail.com"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SUVVM</span>
	<a href="http://www.beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">鲁ICP备19040043号-2</a>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
